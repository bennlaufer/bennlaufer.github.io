---
interface Props {
  currentPath: string;
}

const { currentPath } = Astro.props;

const categories = [
  { href: '/', label: 'About' },
  { href: '/projects/recent', label: 'Recent' },
  { href: '/projects/data-science-ml', label: 'Data Science & ML' },
  { href: '/projects/statistical-research', label: 'Statistical Research' },
  { href: '/projects/software-tools', label: 'Software & Dev Tools' },
];

function isActive(href: string, path: string) {
  if (href === '/') return path === '/' || path === '';
  return path.startsWith(href);
}
---

<aside
  id="sidebar"
  class="fixed inset-y-0 left-0 z-40 w-72 -translate-x-full lg:translate-x-0 lg:static lg:z-auto bg-slate-900/70 backdrop-blur-xl border-r border-slate-700/30 pt-14 overflow-y-auto transition-transform duration-300"
>
  <div class="px-6 py-8">
    <!-- Category navigation -->
    <nav>
      <ul class="space-y-1">
        {categories.map((cat) => (
          <li>
            <a
              href={cat.href}
              class:list={[
                'sidebar-link block px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200',
                isActive(cat.href, currentPath)
                  ? 'bg-gradient-to-r from-accent-blue/15 to-accent-purple/15 text-accent-blue border-l-2 border-accent-blue'
                  : 'text-gray-400 hover:bg-white/5 hover:text-gray-200',
              ]}
            >
              {cat.label}
            </a>
          </li>
        ))}
      </ul>
    </nav>
  </div>
</aside>
